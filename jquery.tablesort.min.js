/*
	A simple, lightweight jQuery plugin for creating sortable tables.
	https://github.com/kylefox/jquery-tablesort
	Version 0.0.12
*/
!function(t){function e(t){var e=document.createElement("style");e.type="text/css",e.rel="stylesheet";try{e.appendChild(document.createTextNode(t))}catch(s){e.styleSheet.cssText=t}var n=document.getElementsByTagName("head")[0];n.appendChild(e)}e(["th,td{border:1px solid #999;padding:5px 2px;}th{cursor: default;}",'th.sortable:after{content:" \\2193\\2191";}','th.sortable.asc:after{content:" \\2191";}','th.sortable.desc:after{content:" \\2193";}'].join("")),t.tablesort=function(e,s){var n=this;this.$table=e,this.$thead=this.$table.find("thead"),this.settings=t.extend({},t.tablesort.defaults,s),this.$sortCells=this.$thead.length>0?this.$thead.find("th.sortable"):this.$table.find("th.sortable"),this.$sortCells.on("click.tablesort",function(){if(n.$sorting)return!1;n.$sorting=1;var e=new Date,s=t(this);s.css("transform","scale(0.95)"),n.$table.trigger("tablesort:start",[n]),n.index!==s.index()?(n.direction="asc",n.index=s.index()):n.direction="asc"===n.direction?"desc":"asc",n.$sortCells.removeClass("asc desc"),s.addClass(n.direction),n.$table.css("display"),setTimeout(function(){s.css("transform","scale(1)"),n.sort(s),n.log("Sort finished in "+((new Date).getTime()-e.getTime())+"ms"),n.$table.trigger("tablesort:complete",[n]),n.$sorting=0},100)}),this.$th=null,this.index=null,this.direction=null,this.$sorting=0},t.tablesort.prototype={sort:function(e,s){var n=this,o=this.$table,i=o.find("tbody").length>0?o.find("tbody"):o,r=i.find("tr").has("td, th"),a=r.find(":nth-child("+(e.index()+1)+")").filter("td, th"),l=e.data().sortBy,d=[],c=a.map(function(s,o){if(l)return"function"==typeof l?l(t(e),t(o),n):l;var i=null!=t(this).data().sortValue?t(this).data().sortValue:t(this).text();return e.hasClass("number")?parseFloat(i,10):i});if(0===c.length)return!1;n.log("Sorting by "+this.index+" "+this.direction),s="asc"==this.direction?1:-1;for(var h=0,u=c.length;h<u;h++)d.push({index:h,cell:a[h],row:r[h],value:c[h]});d.sort(function(t,e){return n.settings.compare(t.value,e.value)*s}),t.each(d,function(t,e){i.append(e.row)})},log:function(e){(t.tablesort.DEBUG||this.settings.debug)&&console&&console.log&&console.log("[tablesort] "+e)},destroy:function(){return this.$sortCells.off("click.tablesort"),this.$table.data("tablesort",null),null}},t.tablesort.DEBUG=!1,t.tablesort.defaults={debug:t.tablesort.DEBUG,compare:function(t,e){return t>e?1:t<e?-1:0}},t.fn.tablesort=function(e){var s,n;return this.each(function(){s=t(this),n=s.data("tablesort"),n&&n.destroy(),s.data("tablesort",new t.tablesort(s,e))})}}(window.Zepto||window.jQuery);